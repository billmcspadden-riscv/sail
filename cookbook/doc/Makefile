
TMP_ADOC	:= ./tmp.adoc

all : TheSailCookbook_Complete.adoc

TheSailCookbook_Complete.adoc : 

TheSailCookbook_Complete.adoc : TheSailCookbook_Main.adoc
	asciidoctor-reducer $< -o $@ ;
	rm -f ${TMP_ADOC} ;
	echo "// =========================================================================" >> ${TMP_ADOC} ;
	echo "// DO NOT EDIT.  AUTOGENERATED FILE.  You probably want to edit $<"           >> ${TMP_ADOC} ;
	echo "// =========================================================================" >> ${TMP_ADOC} ;
	mv $@ $@.tmp ;
	cat ${TMP_ADOC} $@.tmp > $@ ;
	rm -f $@.tmp ${TMP_ADOC} ;

clean:
	rm -f TheSailCookbook_Complete.adoc ${TMP_ADOC}


